
import React, { useState, useEffect } from "react";
import { base44 } from "@/api/base44Client";
import { useQuery } from "@tanstack/react-query";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Alert, AlertDescription } from "@/components/ui/alert";
import { motion, AnimatePresence } from "framer-motion";
import { Sun, Moon, PlayCircle, Radio as RadioIcon } from "lucide-react";
import AdhkarViewer from "../components/adhkar/AdhkarViewer";
import { useNavigate } from "react-router-dom";
import { createPageUrl } from "@/utils";

// ---------------------- ุฃุฐูุงุฑ ุงูุตุจุงุญ (22 ุฐูุฑ) ----------------------
const morningAdhkar = [
  {
    id: 1,
    text: `๏ดฟุงูููููู ูุง ุฅููููฐูู ุฅููููุง ูููู ุงููุญูููู ุงูููููููููู  ููุง ุชูุฃูุฎูุฐููู ุณูููุฉู ููููุง ูููููู  ูููู ููุง ููู ุงูุณููููุงููุงุชู ููููุง ููู ุงููุฃูุฑูุถู  ููู ุฐูุง ุงูููุฐูู ููุดูููุนู ุนููุฏููู ุฅููููุง ุจูุฅูุฐููููู  ููุนููููู ููุง ุจููููู ุฃูููุฏูููููู ููููุง ุฎููููููููู ููููุง ููุญููุทูููู ุจูุดูููุกู ููููู ุนููููููู ุฅููููุง ุจูููุง ุดูุงุกู  ููุณูุนู ููุฑูุณูููููู ุงูุณููููุงููุงุชู ููุงููุฃูุฑูุถู ููููุง ููุฆููุฏููู ุญูููุธูููููุง  ูููููู ุงููุนูููููู ุงููุนูุธูููู๏ดพ (ุงูุจูุฑุฉ: 255).`,
    virtue: "ูู ูุฑุฃูุง ุญูุธู ุงููู ุญุชู ููุณู. ุฑูุงู ุงูุญุงูู ูุงุจู ุญุจุงู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 2,
    text: `ุณูุฑุฉ ุงูุฅุฎูุงุต: ๏ดฟูููู ูููู ุงูููููู ุฃูุญูุฏู * ุงูููููู ุงูุตููููุฏู * ูููู ููููุฏู ูููููู ูููููุฏู * ูููููู ููููู ููููู ููููููุง ุฃูุญูุฏู๏ดพ  
ุณูุฑุฉ ุงูููู: ๏ดฟูููู ุฃูุนููุฐู ุจูุฑูุจูู ุงูููููููู * ููู ุดูุฑูู ููุง ุฎููููู * ููููู ุดูุฑูู ุบูุงุณููู ุฅูุฐูุง ููููุจู * ููููู ุดูุฑูู ุงูููููููุงุซูุงุชู ููู ุงููุนูููุฏู * ููููู ุดูุฑูู ุญูุงุณูุฏู ุฅูุฐูุง ุญูุณูุฏู๏ดพ  
ุณูุฑุฉ ุงููุงุณ: ๏ดฟูููู ุฃูุนููุฐู ุจูุฑูุจูู ุงููููุงุณู * ูููููู ุงููููุงุณู * ุฅููููฐูู ุงููููุงุณู * ููู ุดูุฑูู ุงููููุณูููุงุณู ุงููุฎููููุงุณู * ุงูููุฐูู ููููุณูููุณู ููู ุตูุฏููุฑู ุงููููุงุณู * ูููู ุงููุฌููููุฉู ููุงููููุงุณู๏ดพ`,
    virtue: "ุชูุฑุฃ ุซูุงุซ ูุฑุงุช ุชููู ูู ูู ุดูุก. ุฑูุงู ุงูุชุฑูุฐู.",
    repeatCount: 3,
    currentCount: 3,
  },
  {
    id: 3,
    text: "ุญูุณูุจููู ุงูููููู ููุง ุฅููููู ุฅููููุง ููููุ ุนููููููู ุชููููููููุชูุ ูููููู ุฑูุจูู ุงููุนูุฑูุดู ุงููุนูุธูููู.",
    virtue: "ูู ูุงููุง ุณุจุน ูุฑุงุช ููุงู ุงููู ูุง ุฃููู. ุฑูุงู ุฃุจู ุฏุงูุฏ.",
    repeatCount: 7,
    currentCount: 7,
  },
  {
    id: 4,
    text: "ุฃูุตูุจูุญูููุง ููุฃูุตูุจูุญู ุงูููููููู ูููููููุ ููุงููุญูููุฏู ูููููููุ ููุง ุฅููููู ุฅููููุง ุงูููููู ููุญูุฏููู ููุง ุดูุฑูููู ููููุ ูููู ุงูููููููู ูููููู ุงููุญูููุฏู ูููููู ุนูููู ููููู ุดูููุกู ููุฏููุฑูุ ุฑูุจูู ุฃูุณูุฃููููู ุฎูููุฑู ููุง ููู ููุฐูุง ุงูููููููู ููุฎูููุฑู ููุง ุจูุนูุฏูููุ ููุฃูุนููุฐู ุจููู ูููู ุดูุฑูู ููุง ููู ููุฐูุง ุงูููููููู ููุดูุฑูู ููุง ุจูุนูุฏูููุ ุฑูุจูู ุฃูุนููุฐู ุจููู ูููู ุงููููุณููู ููุณููุกู ุงููููุจูุฑูุ ุฑูุจูู ุฃูุนููุฐู ุจููู ูููู ุนูุฐูุงุจู ููู ุงููููุงุฑู ููุนูุฐูุงุจู ููู ุงููููุจูุฑู.",
    virtue: "ูู ูุงููุง ุญูู ูุตุจุญ ุฃูุฌูุฑ ูู ุงููุงุฑ. ุฑูุงู ูุณูู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 5,
    text: "ุฃูุตูุจูุญูููุง ุนูููู ููุทูุฑูุฉู ุงููุฅูุณูููุงููุ ููุนูููู ููููููุฉู ุงููุฅูุฎูููุงุตูุ ููุนูููู ุฏูููู ููุจููููููุง ููุญููููุฏู ุตููููู ุงูููู ุนููููููู ููุณููููููุ ููุนูููู ูููููุฉู ุฃูุจููููุง ุฅูุจูุฑูุงููููู ุญููููููุง ููุณูููููุง ููููุง ููุงูู ูููู ุงููููุดูุฑูููููู.",
    virtue: "ุฅุญูุงุก ูุชุฌุฏูุฏ ููุนููุฏุฉ ูู ุตุจุงุญ. ุฑูุงู ุฃุญูุฏ.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 6,
    text: "ุงููููููููู ุฅููููู ุฃูุตูุจูุญูุชู ุฃูุดูููุฏูููุ ููุฃูุดูููุฏู ุญูููููุฉู ุนูุฑูุดูููุ ููููููุงุฆูููุชูููุ ููุฌููููุนู ุฎูููููููุ ุฃูููููู ุฃูููุชู ุงูููููู ููุง ุฅููููู ุฅููููุง ุฃูููุชูุ ููุญูุฏููู ููุง ุดูุฑูููู ููููุ ููุฃูููู ููุญููููุฏูุง ุนูุจูุฏููู ููุฑูุณูููููู.",
    virtue: "ูู ูุงููุง ุฃุฑุจุน ูุฑุงุช ุฃุนุชูู ุงููู ูู ุงููุงุฑ. ุฑูุงู ุฃุจู ุฏุงูุฏ ูุงูุชุฑูุฐู.",
    repeatCount: 4,
    currentCount: 4,
  },
  {
    id: 7,
    text: "ุงููููููููู ููุง ุฃูุตูุจูุญู ุจูู ูููู ููุนูููุฉู ุฃููู ุจูุฃูุญูุฏู ูููู ุฎููููููู ูููููููู ููุญูุฏููู ููุง ุดูุฑูููู ููููุ ูููููู ุงููุญูููุฏู ูููููู ุงูุดููููุฑู.",
    virtue: "ูู ูุงููุง ุญูู ูุตุจุญ ุฃุฏู ุดูุฑ ูููู. ุฑูุงู ุฃุจู ุฏุงูุฏ.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 8,
    text: "ุฑูุถููุชู ุจูุงูููููู ุฑูุจููุงุ ููุจูุงููุฅูุณูููุงูู ุฏููููุงุ ููุจูููุญููููุฏู ุตููููู ุงูููููู ุนููููููู ููุณูููููู ููุจููููุง.",
    virtue: "ูู ูุงููุง ุซูุงุซูุง ูุงู ุญููุง ุนูู ุงููู ุฃู ูุฑุถูู. ุฑูุงู ุฃุตุญุงุจ ุงูุณูู.",
    repeatCount: 3,
    currentCount: 3,
  },
  {
    id: 9,
    text: "ุงูููููููู ุจููู ุฃุตุจูุญูุงุ ูุจููู ุฃูุณูููุงุ ูุจููู ููุญูุง ูุจููู ููููุชู ูุฅูููู ุงููููุดูุฑู.",
    virtue: "ููุงู ุนูุฏ ุงูุตุจุงุญ. ุฑูุงู ุฃุตุญุงุจ ุงูุณูู ุนุฏุง ุงููุณุงุฆู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 10,
    text: "ุงูููููููู ุฅูููู ุฃุณุฃููููู ุนููููุง ูุงูุนูุงุ ูุฑูุฒูููุง ุทูููุจูุงุ ูุนููููุง ููุชููุจููููุง.",
    virtue: "ุฃุฎุฑุฌู ุงุจู ุงูุณูู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 11,
    text: "ููุง ุญูููู ููุง ูููููููู ุจูุฑูุญูููุชููู ุฃูุณูุชูุบููุซูุ ุฃูุตูููุญู ููู ุดูุฃูููู ูููููููุ ููููุง ุชูููููููู ุฅูููู ููููุณูู ุทูุฑูููุฉู ุนููููู.",
    virtue: "ุฏุนุงุก ุนุธูู ุนููู ุงููุจู ๏ทบ ููุงุทูุฉ. ุฑูุงู ุงูุจุฒุงุฑ.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 12,
    text: "ุงููููููููู ุฃูููุชู ุฑูุจููู ููุง ุฅููููู ุฅููููุง ุฃูููุชูุ ุฎูููููุชูููู ููุฃูููุง ุนูุจูุฏูููุ ููุฃูููุง ุนูููู ุนูููุฏููู ููููุนูุฏููู ููุง ุงุณูุชูุทูุนูุชูุ ุฃูุนููุฐู ุจููู ูููู ุดูุฑูู ููุง ุตูููุนูุชูุ ุฃูุจููุกู ูููู ุจูููุนูููุชููู ุนููููููุ ููุฃูุจููุกู ุจูุฐูููุจูู ููุงุบูููุฑู ูููุ ููุฅูููููู ููุง ููุบูููุฑู ุงูุฐูููููุจู ุฅููููุง ุฃูููุชู.",
    virtue: "ูู ูุงููุง ูููููุง ุจูุง ููุงุช ุฏุฎู ุงูุฌูุฉ. ุฑูุงู ุงูุจุฎุงุฑู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 13,
    text: "ุงููููููููู ุนูุงูููู ุงููุบูููุจู ููุงูุดููููุงุฏูุฉูุ ููุงุทูุฑู ุงูุณููููุงููุงุชู ููุงููุฃูุฑูุถูุ ุฑูุจูู ููููู ุดูููุกู ูููููููููููุ ุฃูุดูููุฏู ุฃููู ููุง ุฅููููู ุฅููููุง ุฃูููุชูุ ุฃูุนููุฐู ุจููู ูููู ุดูุฑูู ููููุณูู ูููููู ุดูุฑูู ุงูุดููููุทูุงูู ููุดูุฑูููููุ ููุฃููู ุฃูููุชูุฑููู ุนูููู ููููุณูู ุณููุกูุงุ ุฃููู ุฃูุฌูุฑูููู ุฅูููู ููุณููููู.",
    virtue: "ุชูุงู ุตุจุงุญูุง ููุณุงุกู. ุฑูุงู ุงูุชุฑูุฐู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 14,
    text: "ุงููููููููู ุฅููููู ุฃูุณูุฃููููู ุงููุนููููู ููุงููุนูุงููููุฉู ููู ุงูุฏููููููุง ููุงููุขุฎูุฑูุฉูุ ุงููููููููู ุฅููููู ุฃูุณูุฃููููู ุงููุนููููู ููุงููุนูุงููููุฉู ููู ุฏููููู ููุฏูููููุงูู ููุฃูููููู ููููุงูููุ ุงููููููููู ุงุณูุชูุฑู ุนูููุฑูุงุชููุ ููุขูููู ุฑูููุนูุงุชููุ ุงููููููููู ุงุญูููุธูููู ูููู ุจููููู ููุฏููููุ ูููููู ุฎููููููุ ููุนููู ููููููููุ ููุนููู ุดูููุงูููุ ูููููู ูููููููุ ููุฃูุนููุฐู ุจูุนูุธูููุชููู ุฃููู ุฃูุบูุชูุงูู ูููู ุชูุญูุชูู.",
    virtue: "ูุงู ุงููุจู ๏ทบ ูุฏุนู ุจูุง ูู ุตุจุงุญ. ุฑูุงู ุฃุจู ุฏุงูุฏ ูุงุจู ูุงุฌู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 15,
    text: "ุจูุณููู ุงูููููู ุงูููุฐูู ููุง ููุถูุฑูู ููุนู ุงุณููููู ุดูููุกู ููู ุงููุฃูุฑูุถู ููููุง ููู ุงูุณููููุงุกู ูููููู ุงูุณูููููุนู ุงููุนูููููู.",
    virtue: "ูู ูุงููุง ุซูุงุซ ูุฑุงุช ูู ูุถุฑู ุดูุก. ุฑูุงู ุฃุตุญุงุจ ุงูุณูู.",
    repeatCount: 3,
    currentCount: 3,
  },
  {
    id: 16,
    text: "ุณูุจูุญูุงูู ุงูููููู ููุจูุญูููุฏูููุ ุนูุฏูุฏู ุฎูููููููุ ููุฑูุถูุง ููููุณูููุ ููุฒูููุฉู ุนูุฑูุดูููุ ููููุฏูุงุฏู ููููููุงุชููู.",
    virtue: "ุชูุงู ุซูุงุซ ูุฑุงุช ูุฃุฌุฑูุง ุนุธูู. ุฑูุงู ูุณูู.",
    repeatCount: 3,
    currentCount: 3,
  },
  {
    id: 17,
    text: "ุงูููููููู ุนุงูููู ูู ุจุฏููู ุงูููููููู ุนุงูููู ูู ุณูุนู ุงูููููููู ุนุงูููู ูู ุจุตุฑู ูุง ุฅููู ุฅูููุง ุฃูุชุ ุงูููููููู ุฅูููู ุฃุนูุฐู ุจููู ููู ุงูููููุฑู ูุงูููุฑู ุงูููููููู ุฅูููู ุฃุนูุฐู ุจูู ูู ุนุฐุงุจู ุงููุจุฑู ูุง ุฅููู ุฅูููุง ุฃูุช",
    virtue: "ุชูุงู ุซูุงุซ ูุฑุงุช ุตุจุงุญูุง. ุฑูุงู ุฃุจู ุฏุงูุฏ.",
    repeatCount: 3,
    currentCount: 3,
  },
  {
    id: 18,
    text: "ุฃุณุชุบูุฑ ุงููู.",
    virtue: "ูู ูุงููุง ูุงุฆุฉ ูุฑุฉ ุบููุฑ ูู. ุฑูุงู ุงุจู ุฃุจู ุดูุจุฉ.",
    repeatCount: 100,
    currentCount: 100,
  },
  {
    id: 19,
    text: "ููุง ุฅููููู ุฅููููุง ุงูููููู ููุญูุฏููู ููุง ุดูุฑูููู ููููุ ูููู ุงูููููููู ูููููู ุงููุญูููุฏูุ ูููููู ุนูููู ููููู ุดูููุกู ููุฏููุฑู.",
    virtue: "ุฐูุฑ ูุตูุฑ ููุจุงุฑู ูููุงู ููุฐูุฑ ูุงูุญูุธ.",
    repeatCount: 10,
    currentCount: 10,
  },
  {
    id: 20,
    text: "ุณูุจูุญูุงูู ุงูููููู ููุจูุญูููุฏููู.",
    virtue: "ูู ูุงููุง ูุงุฆุฉ ูุฑุฉ ุบููุฑุช ุฐููุจู ูุฅู ูุงูุช ูุซู ุฒุจุฏ ุงูุจุญุฑ. ุฑูุงู ูุณูู.",
    repeatCount: 100,
    currentCount: 100,
  },
  {
    id: 21,
    text: "ููุง ุฅููููู ุฅููููุง ุงูููููู ููุญูุฏููู ููุง ุดูุฑูููู ููููุ ูููู ุงูููููููู ูููููู ุงููุญูููุฏูุ ูููููู ุนูููู ููููู ุดูููุกู ููุฏููุฑู.",
    virtue: "ูู ูุงููุง ูุงุฆุฉ ูุฑุฉ ูุงูุช ูู ุนุฏู ุนุดุฑ ุฑูุงุจุ ููุชุจุช ูู ูุงุฆุฉ ุญุณูุฉุ ููุญูุช ุนูู ูุงุฆุฉ ุณูุฆุฉุ ููุงูุช ูู ุญุฑุฒุงู ูู ุงูุดูุทุงู ูููู ุญุชู ููุณู.",
    repeatCount: 100,
    currentCount: 100,
  },
  {
    id: 22,
    text: "ุงููููููููู ุตูููู ููุณูููููู ุนูููู ููุจููููููุง ููุญููููุฏู.",
    virtue: "ูู ุตูู ุนูู ุงููุจู ๏ทบ ูุงุญุฏุฉ ุตูู ุงููู ุนููู ุจูุง ุนุดุฑุงู.",
    repeatCount: 10,
    currentCount: 10,
  },
];

// ---------------------- ุฃุฐูุงุฑ ุงููุณุงุก (22 ุฐูุฑ) ----------------------
const eveningAdhkar = [
  {
    id: 1,
    text: `๏ดฟุงูููููู ูุง ุฅููููฐูู ุฅููููุง ูููู ุงููุญูููู ุงูููููููููู  ููุง ุชูุฃูุฎูุฐููู ุณูููุฉู ููููุง ูููููู  ูููู ููุง ููู ุงูุณููููุงููุงุชู ููููุง ููู ุงููุฃูุฑูุถู  ููู ุฐูุง ุงูููุฐูู ููุดูููุนู ุนููุฏููู ุฅููููุง ุจูุฅูุฐููููู  ููุนููููู ููุง ุจููููู ุฃูููุฏูููููู ููููุง ุฎููููููููู ููููุง ููุญููุทูููู ุจูุดูููุกู ููููู ุนููููููู ุฅููููุง ุจูููุง ุดูุงุกู  ููุณูุนู ููุฑูุณูููููู ุงูุณููููุงููุงุชู ููุงููุฃูุฑูุถู ููููุง ููุฆููุฏููู ุญูููุธูููููุง  ูููููู ุงููุนูููููู ุงููุนูุธูููู๏ดพ (ุงูุจูุฑุฉ: 255).`,
    virtue: "ูู ูุฑุฃูุง ูู ุงููุณุงุก ุญูุธู ุงููู ุญุชู ูุตุจุญ. ุฑูุงู ุงูุญุงูู ูุงุจู ุญุจุงู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 2,
    text: `ุณูุฑุฉ ุงูุฅุฎูุงุต: ๏ดฟูููู ูููู ุงูููููู ุฃูุญูุฏู * ุงูููููู ุงูุตููููุฏู * ูููู ููููุฏู ูููููู ูููููุฏู * ูููููู ููููู ููููู ููููููุง ุฃูุญูุฏู๏ดพ  
ุณูุฑุฉ ุงูููู: ๏ดฟูููู ุฃูุนููุฐู ุจูุฑูุจูู ุงูููููููู * ููู ุดูุฑูู ููุง ุฎููููู * ููููู ุดูุฑูู ุบูุงุณููู ุฅูุฐูุง ููููุจู * ููููู ุดูุฑูู ุงูููููููุงุซูุงุชู ููู ุงููุนูููุฏู * ููููู ุดูุฑูู ุญูุงุณูุฏู ุฅูุฐูุง ุญูุณูุฏู๏ดพ  
ุณูุฑุฉ ุงููุงุณ: ๏ดฟูููู ุฃูุนููุฐู ุจูุฑูุจูู ุงููููุงุณู * ูููููู ุงููููุงุณู * ุฅููููฐูู ุงููููุงุณู * ููู ุดูุฑูู ุงููููุณูููุงุณู ุงููุฎููููุงุณู * ุงูููุฐูู ููููุณูููุณู ููู ุตูุฏููุฑู ุงููููุงุณู * ูููู ุงููุฌููููุฉู ููุงููููุงุณู๏ดพ`,
    virtue: "ุชููุฑุฃ ุซูุงุซ ูุฑุงุช ุชููู ูู ูู ุดูุก. ุฑูุงู ุงูุชุฑูุฐู.",
    repeatCount: 3,
    currentCount: 3,
  },
  {
    id: 3,
    text: "ุญูุณูุจููู ุงูููููู ููุง ุฅููููู ุฅููููุง ููููุ ุนููููููู ุชููููููููุชูุ ูููููู ุฑูุจูู ุงููุนูุฑูุดู ุงููุนูุธูููู.",
    virtue: "ูู ูุงููุง ุณุจุน ูุฑุงุช ููุงู ุงููู ูุง ุฃููู. ุฑูุงู ุฃุจู ุฏุงูุฏ.",
    repeatCount: 7,
    currentCount: 7,
  },
  {
    id: 4,
    text: "ุฃูููุณูููููุง ููุฃูููุณูู ุงูููููููู ูููููููุ ููุงููุญูููุฏู ูููููููุ ููุง ุฅููููู ุฅููููุง ุงูููููู ููุญูุฏููู ููุง ุดูุฑูููู ููููุ ูููู ุงูููููููู ูููููู ุงููุญูููุฏู ูููููู ุนูููู ููููู ุดูููุกู ููุฏููุฑูุ ุฑูุจูู ุฃูุณูุฃููููู ุฎูููุฑู ููุง ููู ููุฐููู ุงููููููููุฉู ููุฎูููุฑู ููุง ุจูุนูุฏูููุงุ ููุฃูุนููุฐู ุจููู ูููู ุดูุฑูู ููุง ููู ููุฐููู ุงููููููููุฉู ููุดูุฑูู ููุง ุจูุนูุฏูููุงุ ุฑูุจูู ุฃูุนููุฐู ุจููู ูููู ุงููููุณููู ููุณููุกู ุงููููุจูุฑูุ ุฑูุจูู ุฃูุนููุฐู ุจููู ูููู ุนูุฐูุงุจู ููู ุงููููุงุฑู ููุนูุฐูุงุจู ููู ุงููููุจูุฑู.",
    virtue: "ูู ูุงููุง ุญูู ููุณู ุฃูุฌูุฑ ูู ุงููุงุฑ. ุฑูุงู ูุณูู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 5,
    text: "ุฃูููุณูููููุง ุนูููู ููุทูุฑูุฉู ุงููุฅูุณูููุงููุ ููุนูููู ููููููุฉู ุงููุฅูุฎูููุงุตูุ ููุนูููู ุฏูููู ููุจููููููุง ููุญููููุฏู ุตููููู ุงูููู ุนููููููู ููุณููููููุ ููุนูููู ูููููุฉู ุฃูุจููููุง ุฅูุจูุฑูุงููููู ุญููููููุง ููุณูููููุง ููููุง ููุงูู ูููู ุงููููุดูุฑูููููู.",
    virtue: "ุชูุงู ูู ุงููุณุงุก ููุง ุชูุงู ูู ุงูุตุจุงุญ. ุฑูุงู ุฃุญูุฏ.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 6,
    text: "ุงููููููููู ุฅููููู ุฃูููุณูููุชู ุฃูุดูููุฏูููุ ููุฃูุดูููุฏู ุญูููููุฉู ุนูุฑูุดูููุ ููููููุงุฆูููุชูููุ ููุฌููููุนู ุฎูููููููุ ุฃูููููู ุฃูููุชู ุงูููููู ููุง ุฅููููู ุฅููููุง ุฃูููุชูุ ููุญูุฏููู ููุง ุดูุฑูููู ููููุ ููุฃูููู ููุญููููุฏูุง ุนูุจูุฏููู ููุฑูุณูููููู.",
    virtue: "ูู ูุงููุง ุฃุฑุจุน ูุฑุงุช ุฃุนุชูู ุงููู ูู ุงููุงุฑ. ุฑูุงู ุฃุจู ุฏุงูุฏ ูุงูุชุฑูุฐู.",
    repeatCount: 4,
    currentCount: 4,
  },
  {
    id: 7,
    text: "ุงููููููููู ููุง ุฃูููุณูู ุจูู ูููู ููุนูููุฉู ุฃููู ุจูุฃูุญูุฏู ูููู ุฎููููููู ูููููููู ููุญูุฏููู ููุง ุดูุฑูููู ููููุ ูููููู ุงููุญูููุฏู ูููููู ุงูุดููููุฑู.",
    virtue: "ูู ูุงููุง ุญูู ููุณู ุฃุฏู ุดูุฑ ูููุชู. ุฑูุงู ุฃุจู ุฏุงูุฏ.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 8,
    text: "ุฑูุถููุชู ุจูุงูููููู ุฑูุจููุงุ ููุจูุงููุฅูุณูููุงูู ุฏููููุงุ ููุจูููุญููููุฏู ุตููููู ุงูููููู ุนููููููู ููุณูููููู ููุจููููุง.",
    virtue: "ูู ูุงููุง ุซูุงุซูุง ูุงู ุญููุง ุนูู ุงููู ุฃู ูุฑุถูู. ุฑูุงู ุฃุตุญุงุจ ุงูุณูู.",
    repeatCount: 3,
    currentCount: 3,
  },
  {
    id: 9,
    text: "ุงููููููููู ุจููู ุฃูููุณูููููุงุ ููุจููู ุฃูุตูุจูุญูููุงุ ููุจููู ููุญูููุงุ ููุจููู ูููููุชูุ ููุฅููููููู ุงููููุตููุฑู.",
    virtue: "ุชูุงู ูู ุงููุณุงุก. ุฑูุงู ุฃุจู ุฏุงูุฏ.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 10,
    text: "ุงูููููููู ุฅูููู ุฃุณุฃููููู ุนููููุง ูุงูุนูุงุ ูุฑูุฒูููุง ุทูููุจูุงุ ูุนููููุง ููุชููุจููููุง.",
    virtue: "ุฏุนุงุก ุฌุงูุน ููุฎูุฑ. ุฑูุงู ุงุจู ุงูุณูู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 11,
    text: "ููุง ุญูููู ููุง ูููููููู ุจูุฑูุญูููุชููู ุฃูุณูุชูุบููุซูุ ุฃูุตูููุญู ููู ุดูุฃูููู ูููููููุ ููููุง ุชูููููููู ุฅูููู ููููุณูู ุทูุฑูููุฉู ุนููููู.",
    virtue: "ููุงู ุตุจุงุญูุง ููุณุงุกู. ุฑูุงู ุงููุณุงุฆู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 12,
    text: "ุงููููููููู ุฃูููุชู ุฑูุจููู ููุง ุฅููููู ุฅููููุง ุฃูููุชูุ ุฎูููููุชูููู ููุฃูููุง ุนูุจูุฏูููุ ููุฃูููุง ุนูููู ุนูููุฏููู ููููุนูุฏููู ููุง ุงุณูุชูุทูุนูุชูุ ุฃูุนููุฐู ุจููู ูููู ุดูุฑูู ููุง ุตูููุนูุชูุ ุฃูุจููุกู ูููู ุจูููุนูููุชููู ุนููููููุ ููุฃูุจููุกู ุจูุฐูููุจูู ููุงุบูููุฑู ูููุ ููุฅูููููู ููุง ููุบูููุฑู ุงูุฐูููููุจู ุฅููููุง ุฃูููุชู.",
    virtue: "ูู ูุงููุง ูููููุง ุจูุง ูู ุงููุณุงุก ููุงุช ุฏุฎู ุงูุฌูุฉ. ุฑูุงู ุงูุจุฎุงุฑู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 13,
    text: "ุงููููููููู ุนูุงูููู ุงููุบูููุจู ููุงูุดููููุงุฏูุฉูุ ููุงุทูุฑู ุงูุณููููุงููุงุชู ููุงููุฃูุฑูุถูุ ุฑูุจูู ููููู ุดูููุกู ูููููููููููุ ุฃูุดูููุฏู ุฃููู ููุง ุฅููููู ุฅููููุง ุฃูููุชูุ ุฃูุนููุฐู ุจููู ูููู ุดูุฑูู ููููุณูู ูููููู ุดูุฑูู ุงูุดููููุทูุงูู ููุดูุฑููููู.",
    virtue: "ุชูุงู ุตุจุงุญูุง ููุณุงุกู. ุฑูุงู ุงูุชุฑูุฐู.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 14,
    text: "ุงููููููููู ุฅููููู ุฃูุณูุฃููููู ุงููุนููููู ููุงููุนูุงููููุฉู ููู ุงูุฏููููููุง ููุงููุขุฎูุฑูุฉูุ ุงููููููููู ุฅููููู ุฃูุณูุฃููููู ุงููุนููููู ููุงููุนูุงููููุฉู ููู ุฏููููู ููุฏูููููุงูู ููุฃูููููู ููููุงูููุ ุงููููููููู ุงุณูุชูุฑู ุนูููุฑูุงุชููุ ููุขูููู ุฑูููุนูุงุชููุ ุงููููููููู ุงุญูููุธูููู ูููู ุจููููู ููุฏููููุ ูููููู ุฎููููููุ ููุนููู ููููููููุ ููุนููู ุดูููุงูููุ ูููููู ูููููููุ ููุฃูุนููุฐู ุจูุนูุธูููุชููู ุฃููู ุฃูุบูุชูุงูู ูููู ุชูุญูุชูู.",
    virtue: "ูุงู ุงููุจู ๏ทบ ูุฏุนู ุจูุง ูุณุงุกู. ุฑูุงู ุฃุจู ุฏุงูุฏ.",
    repeatCount: 1,
    currentCount: 1,
  },
  {
    id: 15,
    text: "ุจูุณููู ุงูููููู ุงูููุฐูู ููุง ููุถูุฑูู ููุนู ุงุณููููู ุดูููุกู ููู ุงููุฃูุฑูุถู ููููุง ููู ุงูุณููููุงุกู ูููููู ุงูุณูููููุนู ุงููุนูููููู.",
    virtue: "ูู ูุงููุง ุซูุงุซ ูุฑุงุช ูู ูุถุฑู ุดูุก ุญุชู ูุตุจุญ. ุฑูุงู ุงูุชุฑูุฐู.",
    repeatCount: 3,
    currentCount: 3,
  },
  {
    id: 16,
    text: "ุณูุจูุญูุงูู ุงูููููู ููุจูุญูููุฏูููุ ุนูุฏูุฏู ุฎูููููููุ ููุฑูุถูุง ููููุณูููุ ููุฒูููุฉู ุนูุฑูุดูููุ ููููุฏูุงุฏู ููููููุงุชููู.",
    virtue: "ุชูุงู ุซูุงุซ ูุฑุงุช ูุณุงุกู. ุฑูุงู ูุณูู.",
    repeatCount: 3,
    currentCount: 3,
  },
  {
    id: 17,
    text: "ุงูููููููู ุนุงูููู ูู ุจุฏููู ุงูููููููู ุนุงูููู ูู ุณูุนู ุงูููููููู ุนุงูููู ูู ุจุตุฑู ูุง ุฅููู ุฅูููุง ุฃูุชุ ุงูููููููู ุฅูููู ุฃุนูุฐู ุจููู ููู ุงูููููุฑู ูุงูููุฑู ุงูููููููู ุฅูููู ุฃุนูุฐู ุจูู ูู ุนุฐุงุจู ุงููุจุฑู ูุง ุฅููู ุฅูููุง ุฃูุช",
    virtue: "ุชูุงู ุซูุงุซ ูุฑุงุช ูุณุงุกู. ุฑูุงู ุฃุจู ุฏุงูุฏ.",
    repeatCount: 3,
    currentCount: 3,
  },
  {
    id: 18,
    text: "ุฃุณุชุบูุฑ ุงููู.",
    virtue: "ูู ูุงููุง ูุงุฆุฉ ูุฑุฉ ุบููุฑ ูู. ุฑูุงู ุงุจู ุฃุจู ุดูุจุฉ.",
    repeatCount: 100,
    currentCount: 100,
  },
  {
    id: 19,
    text: "ููุง ุฅููููู ุฅููููุง ุงูููููู ููุญูุฏูููุ ููุง ุดูุฑูููู ููููุ ูููู ุงูููููููู ูููููู ุงููุญูููุฏูุ ูููููู ุนูููู ููููู ุดูููุกู ููุฏููุฑู.",
    virtue: "ูู ูุงููุง ุนุดุฑ ูุฑุงุช ูุงู ููู ุฃุนุชู ุฃุฑุจุนุฉ ุฃููุณ. ุฑูุงู ูุณูู.",
    repeatCount: 10,
    currentCount: 10,
  },
  {
    id: 20,
    text: "ุณูุจูุญูุงูู ุงูููููู ููุจูุญูููุฏููู.",
    virtue: "ูู ูุงููุง ูุงุฆุฉ ูุฑุฉ ุบููุฑุช ุฐููุจู ูุฅู ูุงูุช ูุซู ุฒุจุฏ ุงูุจุญุฑ. ุฑูุงู ูุณูู.",
    repeatCount: 100,
    currentCount: 100,
  },
  {
    id: 21,
    text: "ููุง ุฅููููู ุฅููููุง ุงูููููู ููุญูุฏููู ููุง ุดูุฑูููู ููููุ ูููู ุงูููููููู ูููููู ุงููุญูููุฏูุ ูููููู ุนูููู ููููู ุดูููุกู ููุฏููุฑู.",
    virtue: "ูู ูุงููุง ูุงุฆุฉ ูุฑุฉ ูุงูุช ุญุฑุฒูุง ูู ูู ุงูุดูุทุงู ุญุชู ูุตุจุญ. ุฑูุงู ุงูุจุฎุงุฑู.",
    repeatCount: 100,
    currentCount: 100,
  },
  {
    id: 22,
    text: "ุงููููููููู ุตูููู ููุณูููููู ุนูููู ููุจููููููุง ููุญููููุฏู.",
    virtue: "ูู ุตูู ุนูู ุงููุจู ๏ทบ ูุงุญุฏุฉ ุตูู ุงููู ุนููู ุจูุง ุนุดุฑุงู.",
    repeatCount: 10,
    currentCount: 10,
  },
];

export default function MorningAdhkar() {
  const navigate = useNavigate();
  const [showViewer, setShowViewer] = useState(false);
  const [selectedType, setSelectedType] = useState(null);
  const [user, setUser] = useState(null);

  useEffect(() => {
    const fetchUser = async () => {
      try {
        const currentUser = await base44.auth.me();
        setUser(currentUser);
      } catch (error) {
        console.error("Error fetching user:", error);
      }
    };
    fetchUser();
  }, []);

  // Check for live broadcasts
  const { data: liveBroadcasts = [] } = useQuery({
    queryKey: ['liveBroadcasts'],
    queryFn: () => base44.entities.Broadcast.filter({ is_live: true }),
    refetchInterval: 5000,
  });

  const startAdhkar = (type) => {
    setSelectedType(type);
    setShowViewer(true);
  };

  const handleComplete = (updatedList) => {
    console.log("Adhkar completed:", updatedList);
  };

  const getAdhkarList = () => {
    if (selectedType === "morning") {
      return morningAdhkar.map(dhikr => ({ ...dhikr, currentCount: dhikr.repeatCount }));
    }
    return eveningAdhkar.map(dhikr => ({ ...dhikr, currentCount: dhikr.repeatCount }));
  };

  const getTitle = () => {
    return selectedType === "morning" ? "ุฃุฐูุงุฑ ุงูุตุจุงุญ" : "ุฃุฐูุงุฑ ุงููุณุงุก";
  };

  return (
    <div className="min-h-screen p-4 md:p-8">
      <div className="max-w-6xl mx-auto">
        {/* Live Broadcast Alert */}
        <AnimatePresence>
          {liveBroadcasts.length > 0 && (
            <motion.div
              initial={{ opacity: 0, y: -20 }}
              animate={{ opacity: 1, y: 0 }}
              exit={{ opacity: 0, y: -20 }}
              className="mb-6"
            >
              <Alert className="bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 shadow-xl">
                <RadioIcon className="h-5 w-5 animate-pulse" />
                <AlertDescription className="text-white">
                  <div className="flex items-center justify-between flex-wrap gap-3">
                    <div>
                      <p className="font-bold text-lg mb-1">๐ด ุจุซ ูุจุงุดุฑ ุงูุขู!</p>
                      <p className="text-white/90">{liveBroadcasts[0].title}</p>
                    </div>
                    <Button
                      onClick={() => navigate(createPageUrl(`ListenBroadcast?id=${liveBroadcasts[0].id}&autoplay=true`))}
                      className="bg-white text-purple-600 hover:bg-gray-100 font-bold"
                    >
                      ุงุณุชูุน ุงูุขู
                    </Button>
                  </div>
                </AlertDescription>
              </Alert>
            </motion.div>
          )}
        </AnimatePresence>

        <motion.div
          initial={{ opacity: 0, y: -20 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center mb-8"
        >
          <h1 className="text-5xl font-bold text-gray-900 mb-3">
            ุงูุฃุฐูุงุฑ
          </h1>
          <p className="text-lg text-gray-600">
            ููุงุฐูููุฑ ุฑููุจูููู ููู ููููุณููู ุชูุถูุฑููุนูุง ููุฎููููุฉู
          </p>
        </motion.div>

        <div className="grid md:grid-cols-2 gap-8">
          {/* ุฃุฐูุงุฑ ุงูุตุจุงุญ */}
          <motion.div
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: 0.1 }}
          >
            <Card className="border-2 border-yellow-200 hover:shadow-2xl transition-all cursor-pointer group">
              <CardContent className="pt-12 pb-12 text-center">
                <div className="w-32 h-32 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform">
                  <Sun className="w-16 h-16 text-white" />
                </div>
                <h2 className="text-3xl font-bold text-gray-900 mb-3">
                  ุฃุฐูุงุฑ ุงูุตุจุงุญ
                </h2>
                <p className="text-gray-600 mb-6">
                  {morningAdhkar.length} ุฐูุฑุงู
                </p>
                <Button
                  onClick={() => startAdhkar("morning")}
                  size="lg"
                  className="w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white gap-2 py-6 text-lg"
                >
                  <PlayCircle className="w-6 h-6" />
                  ุงุจุฏุฃ ุงูุฃุฐูุงุฑ
                </Button>
              </CardContent>
            </Card>
          </motion.div>

          {/* ุฃุฐูุงุฑ ุงููุณุงุก */}
          <motion.div
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: 0.2 }}
          >
            <Card className="border-2 border-indigo-200 hover:shadow-2xl transition-all cursor-pointer group">
              <CardContent className="pt-12 pb-12 text-center">
                <div className="w-32 h-32 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform">
                  <Moon className="w-16 h-16 text-white" />
                </div>
                <h2 className="text-3xl font-bold text-gray-900 mb-3">
                  ุฃุฐูุงุฑ ุงููุณุงุก
                </h2>
                <p className="text-gray-600 mb-6">
                  {eveningAdhkar.length} ุฐูุฑุงู
                </p>
                <Button
                  onClick={() => startAdhkar("evening")}
                  size="lg"
                  className="w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white gap-2 py-6 text-lg"
                >
                  <PlayCircle className="w-6 h-6" />
                  ุงุจุฏุฃ ุงูุฃุฐูุงุฑ
                </Button>
              </CardContent>
            </Card>
          </motion.div>
        </div>

        {/* ูุถู ุงูุฃุฐูุงุฑ */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.3 }}
          className="mt-12"
        >
          <Card className="border-2 border-purple-100 bg-gradient-to-br from-purple-50 to-pink-50">
            <CardContent className="pt-8 pb-8">
              <h3 className="text-2xl font-bold text-gray-900 mb-4 text-center">
                ูุถู ุฃุฐูุงุฑ ุงูุตุจุงุญ ูุงููุณุงุก
              </h3>
              <div className="grid md:grid-cols-2 gap-6">
                <div className="bg-white rounded-xl p-6 shadow-md">
                  <h4 className="font-bold text-purple-600 mb-3 text-lg">๐ ุงูุญูุธ ูุงูุฃูุงู</h4>
                  <p className="text-gray-700 leading-relaxed">
                    ูู ุฏุงูู ุนูู ุฃุฐูุงุฑ ุงูุตุจุงุญ ูุงููุณุงุก ุญูุธู ุงููู ูู ูู ุณูุก ูุฃููู ูู ูู ุฎูู
                  </p>
                </div>
                <div className="bg-white rounded-xl p-6 shadow-md">
                  <h4 className="font-bold text-purple-600 mb-3 text-lg">๐ ุงูุฃุฌุฑ ุงูุนุธูู</h4>
                  <p className="text-gray-700 leading-relaxed">
                    ูู ุฐูุฑ ูู ูุถู ุนุธูู ูุฃุฌุฑ ูุจูุฑ ุนูุฏ ุงููู ุชุนุงูู
                  </p>
                </div>
                <div className="bg-white rounded-xl p-6 shadow-md">
                  <h4 className="font-bold text-purple-600 mb-3 text-lg">โจ ุฑุงุญุฉ ุงูููุจ</h4>
                  <p className="text-gray-700 leading-relaxed">
                    ุฐูุฑ ุงููู ูุทูุฆู ุงูููุจ ููุฒูู ุงููููู ูุงูุฃุญุฒุงู
                  </p>
                </div>
                <div className="bg-white rounded-xl p-6 shadow-md">
                  <h4 className="font-bold text-purple-600 mb-3 text-lg">๐ก๏ธ ุญุฑุฒ ูู ุงูุดูุทุงู</h4>
                  <p className="text-gray-700 leading-relaxed">
                    ุงูุฃุฐูุงุฑ ุญุตู ูููุน ูู ุงูุดูุทุงู ููุณุงูุณู
                  </p>
                </div>
              </div>
            </CardContent>
          </Card>
        </motion.div>
      </div>

      {showViewer && (
        <AdhkarViewer
          adhkarList={getAdhkarList()}
          onClose={() => setShowViewer(false)}
          onComplete={handleComplete}
          title={getTitle()}
        />
      )}
    </div>
  );
}
